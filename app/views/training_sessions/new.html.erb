<h1>トレーニング記録</h1>

<%= form_with(model: @training_session, local: true, html: {id: 'training-session-form'}) do |form| %>
  <% if @training_session.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@training_session.errors.count, "error") %> このトレーニングセッションの保存を妨げました:</h2>
      <ul>
        <% @training_session.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :date, "日付" %>
    <%= form.date_field :date %>
  </div>

  <%= form.fields_for :session_exercises do |se_form| %>
    <%= se_form.label :exercise_id, "種目" %>
    <%= se_form.collection_select :exercise_id, Exercise.all, :id, :name, include_blank: true %>
    <%= se_form.label :weight, "重量" %>
    <%= se_form.number_field :weight %>
    <%= se_form.label :reps, "回数" %>
    <%= se_form.number_field :reps %>
    <%= se_form.label :sets, "セット数" %>
    <%= se_form.number_field :sets %>
  <% end %>

  <div class="actions">
    <%= form.submit "保存" %>
  </div>
<% end %>

<%= link_to '戻る', training_sessions_path %>

<script type="module">
  import "/custom"
</script>